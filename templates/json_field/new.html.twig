{% extends 'layout.html.twig' %}

{% set pageTitle = 'json_field.new' %}
{% set pageSubTitle = 'json_field.subtitle' %}

{% block wrapper %}
    <div class="row">
        <div class="col-md-6">
            <!-- START card-->
            <div class="card card-default">
                <div class="card-header">{{ 'configuration'|trans }}</div>
                <div class="card-body">
                    {{ include('json_field/_form.html.twig', {'button_label': 'action.save'|trans}) }}
                    <a class="btn btn-primary" href="{{ path('json_field_index') }}">{{ 'action.back_to_list'|trans }}</a>
                </div>
            </div><!-- END card-->
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
      $(document).ready(function(){
        console.log("New Json field!");

        var required_schema = '{{ schema_id }}';
        if (required_schema) {
          console.log("{{ schema_id }}");
          $('#json_field_jsonSchema').val(required_schema);
        }

        var required_parent = '{{ parent_id }}';
        if (required_parent) {
          console.log("{{ parent_id }}");
          $('#json_field_parent').val(required_parent);
        }
      });
    </script>
{% endblock %}